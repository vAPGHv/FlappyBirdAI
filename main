"""------=Создано vAPGHv=------"""

"""------=imports=------"""

import pygame as pyg # импортирует пакет pygame и называет его pyg
from time import sleep # позволяет останавливать программу
import random as rand # модуль рандома
from colorama import init # импорт инициализации для колорамы
from colorama import Fore, Back, Style # импорт колорамы

"""------=settings=------"""

init() # инициализация olorama'ы

randl4AI = [1, 2, 3, 4, 5] # лист
AIscore = 0 # переменная
operacionscore = 0 # переменная
goodoperacionscore = 0 # переменная

FPS = 30 # переменная

pyg.init() # автоматически инициализирует пайгейм
clock = pyg.time.Clock() # позволяет работать с fps
choice = rand.choice # выбирает рандомное число
shuffle = rand.shuffle # перемешивает числа

randl4AI2 = choice(randl4AI)

prug = pyg.draw.rect # рисование прямоугольника

vmar = [0, 200, 100, 50]
vmarchoice = choice(vmar) # выбирает рандомное число

"""------=colors=------"""

wblue = 0, 200, 255 # голубой
green = 0, 255, 0 # зелёный
bgreen = 0, 100, 0 # тёмнозелёный
yellow = 255, 250, 0 # жёлтый
oranje = 255, 200, 0 # оранжевый
white = 255, 255, 255 # белый
black = 0, 0, 0 # чёрный

"""------=settings=------"""

v = 720 # высота
sh = 1080 # ширина
centerv = v / 2 # центер высоты
centersh = sh / 2 # центер ширины
centervff = v / 2 # центер высоты
centershff = sh / 2 # центер ширины
centervmar = v / 2 # центер высоты
centershmar = sh / 2 # центер ширины

"""------=game=------"""

sc = pyg.display.set_mode((sh, v)) # создаёт экран для пайгейм размером 1080 на 720 пикселей
pyg.display.set_caption("Тест игра") # название игры

pyg.display.flip() # переворот экрана

"""------=minicode=------"""

def bird(): # переменная с кодом
    prug(sc, (yellow), (centershff-320, centervff, 50, 50)) # создаёт прямоугольник
    prug(sc, (oranje), (centershff-280, centervff+20, 20, 10)) # создаёт прямоугольник
    prug(sc, (white), (centershff-290, centervff+5, 10, 10)) # создаёт прямоугольник
    prug(sc, (black), (centershff-287, centervff+7, 5, 5)) # создаёт прямоугольник

def mar(): # переменная с кодом

    """------=up=------"""

    prug(sc, (green), (centershmar * 2, vmarchoice + -centervmar + 130, 100, centerv)) # создаёт прямоугольник

    """------=down=------"""

    prug(sc, (green), (centershmar * 2, vmarchoice + centervmar + 30, 100, centerv)) # создаёт прямоугольник

def st(): # переменная с кодом

    """------=up=------"""

    if centervff <= vmarchoice + -centervmar + 500: # если centervff меньше или равно vmarchoice + -centervmar + 500 то
        if centershff - 320 == centershmar * 2: # если centershff - 320 равно centershmar * 2 то
            game_over()
        elif centershff - 320 - 80 == centershmar * 2: # если centershff - 320 - 80 равен centershmar * 2 то
            game_over()
        elif centershff - 320 - 40 == centershmar * 2: # если centershff - 320 - 40 равен centershmar * 2 то
            game_over()

    """------=down=------"""

    if centervff >= vmarchoice + centervmar + 30: # если centervff больше или равно vmarchoice + centervmar + 30 то
        if centershff - 320 == centershmar * 2: # если centershff - 320 равно centershmar * 2 то
            game_over()
        elif centershff - 320 - 80 == centershmar * 2: # если centershff - 320 - 80 равен centershmar * 2 то
            game_over()
        elif centershff - 320 - 40 == centershmar * 2: # если centershff - 320 - 40 равен centershmar * 2 то
            game_over()

"""------=code=------"""

while True: # делает что либо примерно 100 раз в секунду

    def game_over():  # переменная с кодом
        scoreAI = goodoperacionscore / operacionscore * 100 # scoreAI равно goodoperacionscore разделить на operacionscore и умножить на 100
        print(f"\n\n\n\n\n\n\n\n    {Fore.CYAN}------=operations=------{Style.RESET_ALL}\n\n   Всего операций: {operacionscore}\n   Удачных операций: {goodoperacionscore}") # обычное сообщение
        if scoreAI >= 70: # если scoreAI больше или равно 70 то
            print(Fore.GREEN + "Процентность удачных операций: %.2f (Отлично!!!)" % scoreAI) # обычное сообщение
        elif scoreAI <= 69 and scoreAI >= 37: # если scoreAI меньше или равно 69 И больше или равно 37 то
            print(Fore.YELLOW + "Процентность удачных операций: %.2f (Могло быть лучше?..)" % scoreAI) # обычное сообщение
        else:
            print(Fore.RED + "Процентность удачных операций: %.2f (ПЛОХО!)" % scoreAI) # обычное сообщение
        sleep(1)  # отключение кода на 1 секунду
        pyg.quit()  # отключает окно пайгейма, но не закрывает игру
        exit() # выход из приложения

    AIIF = centervff > vmarchoice + centervmar - 50 # переменная

    """------=exit and jump=------"""

    for event in pyg.event.get(): # работает с пайгейм'ом
        if event.type == pyg.QUIT: # если игрок выходит из окна пайгейм то он выполняет то что внутри
            game_over()

    """------=AI=------"""

    if AIIF:  # если AIIF true то
        if randl4AI2 == 4 or randl4AI2 == 2: # если randl4AI2 равно 4 или 2 то
            operacionscore += 1 # прибавляет к operacionscore 1
            centervff -= 130 # вычитает из centervff 130
            randl4AI2 = choice(randl4AI) # рандомное число из списка
            print(f"{Fore.GREEN}Верно: {randl4AI2}{Style.RESET_ALL}") # обычное сообщение
            goodoperacionscore += 1 # прибавляет к goodoperacionscore 1
            print(Style.RESET_ALL + f"Номер операции: {operacionscore}") # обычное сообщение
        else:
            if AIscore >= 6: # если AIscore больше или равно 6 то
                print(Fore.RED + f"Неверный {Fore.BLUE}(помощь){Fore.RED} : {randl4AI2}") # обычное сообщение
                print(Style.RESET_ALL + f"Номер операции: {operacionscore}") # обычное сообщение
                operacionscore += 1 # прибавляет к operacionscore 1
                randl4AI2 = 4 # randl4AI2 равно 4
                AIscore = 0 # AIscore равно 0
            else:
                operacionscore += 1 # прибавляет к AIscore 1
                print(Fore.RED + f"Неверный: {randl4AI2}") # обычное сообщение
                randl4AI2 = choice(randl4AI) # рандомное число из списка
                print(Style.RESET_ALL + f"Номер операции: {operacionscore}") # обычное сообщение
                AIscore += 1 # прибавляет к AIscore 1

    """------=gravitacion and motion=------"""

    centervff += 12 # прибавляет к centervff 12
    centershmar -= 10 # отнимает от centershmar 10

    """------=respawn=------"""

    if centershmar == -100: # если centershmar равно -100 то
        vmarchoice = choice(vmar) # выбирает рандомное число
        centershmar = centersh # присваивает переменной centershmar нужное значение

    """------=game over=------"""

    if centervff >= v-78: # если centervff больше или равно v - 78 то
        game_over() # выполнение переменной с кодом
    elif centervff <= -25: # если centervff меньше или равно -25 то
        game_over() # выполнение переменной с кодом

    """------=fon=------"""

    sc.fill(wblue) # заполняет экран

    """------=codes=------"""

    bird() # выполнение переменной с кодом
    mar() # выполнение переменной с кодом
    st() # выполнение переменной с кодом

    """------=fon=------"""

    prug(sc, (bgreen), (0, v-20, sh+100, 50 )) # создаёт прямоугольник
    prug(sc, (bgreen), (0, -20, sh+100, 50 )) # создаёт прямоугольник
    pyg.display.update() # обновляет экран
    clock.tick(FPS) # ограничивает fps игры до FPS
